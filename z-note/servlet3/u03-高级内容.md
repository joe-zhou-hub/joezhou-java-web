# 1. 过滤器

**概念：** servlet过滤器主要用于 `service()` 前后：
- 开发 `EncodingFilter` 类实现 `javax.servlet.Filter` 接口。
- 重写 `init()/destroy()` 生命周期函数和 `doFilter()` 过滤器任务清单方法：
    - 清单方法使用 `chain.doFilter()` 放行请求到 `service()` 中。
- 配置 `EncodingFilter` 类的 `@WebFilter` 注解来指定过滤规则：
    - 支持 `*`，但是不能前模糊，如 `/*Servlet`，只能后模糊，如 `/servlet*` 。

**源码：** /servlet3/
- src: `c.j.filter.EncodingFilter`
- src: `c.j.filter.FilterTestServlet`
- psm: `{{tomcat}}/servlet3/api/filter-test?name=赵四`

# 3. XML方式配置过滤器类

**概念：** 
- 除了使用 `@WebFilter()` 注解，我们还可以在 `web.xml` 中使用XML代码来部署过滤器，部署过程和servlet部署过程很相似。
- 过滤规则中可以使用 `*` 进行模糊匹配，但是不能前模糊，只能后模糊。
    - 非法的过滤规则：`/*Servlet`、`/*/testServlet` 等。
    - 合法的过滤规则：`/servlet*`、`/servlet/*` 等。

**配置：** web.xml
```xml
<filter>
    <filter-name>MyFilter</filter-name>
    <filter-class>com.joe.filter.MyFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>MyFilter</filter-name>
    <!-- 过滤规则 -->
    <url-pattern>/servlet/*</url-pattern>
</filter-mapping> 
```